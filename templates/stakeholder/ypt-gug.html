{% extends "includes/dashboard-base.html" %}
{% load static %}

{% block content %}
<div class="card">
  <div class="card-body">
    <div class="row">    
        <div class="col-lg-3">
          <h2>TREN SURVEI GUG</h2>
          <p style="color: black;">
            Rataan Persentase Setuju dan Sangat Setuju
            untuk GUG adalah sebagai berikut
            <br>• Tahun 2019 : 94.72
            <br>• Tahun 2020 : 97.42
            <br>Persentase setuju dan sangat setuju untuk
            pernyataan GUG ditahun 2020 ini meningkat
            sebesar 2.70.Peningkatan terjadi untuk
            setiap kategori penilaian survei GUG
          </p>
        </div>
        <div class="col-lg-9">
          <div class="card">
            <div class="card-body">
              <div class="tab-panel" id="tab-orders-content" role="tabpanel" aria-labelledby="tab-orders-content">
                <div class="air__c3__chart height-300 width-1500"></div>
                <div class="d-flex flex-wrap">
                  <div class="mr-5 mb-2">
                    <div class="text-nowrap text-uppercase text-gray-4">
                      <div class="air__utils__donut air__utils__donut--success"></div>
                      2020
                    </div>
                  </div>
                  <div class="mr-5 mb-2">
                    <div class="text-nowrap text-uppercase text-gray-4">
                      <div class="air__utils__donut air__utils__donut--primary"></div>
                      2019
                    </div>
                  </div>
                </div>

            <script>
              /////////////////////////////////////////////////////////////////////////////////////////
              // "widgets charts" module scripts

              (function ($) {
                "use strict";
                $.getJSON("/static/data/stakeholder/ypt-gug/ypt-gug.json", function (data) {
                  /////////////////////////////////////////////////////////////////////////////////////////
                  const chartist3 = new Chartist.Bar(
                    ".air__c3__chart",
                    {
                      labels: data.map(function(data){return data.label}),
                      series: [
                        {
                          className: "ct-series-a",
                          data: data.map(function(data){return data.value.value19}),
                        },
                        {
                          className: "ct-series-b",
                          data: data.map(function(data){return data.value.value20}),
                        },
                      ],
                    },
                    {
                      fullWidth: true,
                      chartPadding: {
                      right: 0,
                      left: 0,
                      top: 0,
                      bottom: 0,
                      },
                      axisY: {
                        showGrid: true,
                        showLabel: false,
                        offset: 0,
                      },
                      axisX: {
                        showGrid: true,
                        },
                      seriesBarDistance: 10,
                    }
                  );

                  chartist3.on("draw", function (data) {
                    if (data.type === "bar") {
                      data.group.append(
                        new Chartist.Svg("line", {
                          x1: data.x1,
                          x2: data.x2,
                          y1: data.y2,
                          y2: 0,
                          stroke: "#e4e9f0",
                          "stroke-width": "15",
                        })
                      );
                    }
                  });
                  /////////////////////////////////////////////////////////////////////////////////////////
                });
              })(jQuery);
            </script>
          </div>
        </div>
      </div>
    </div>
{% endblock content %}